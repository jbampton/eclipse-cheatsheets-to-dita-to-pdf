<?xml version="1.0" encoding="UTF-8"?>
<?eclipse.ant.import?>
<project name="eclipse-cheatsheets-to-dita-to-pdf" default="TransformAll" basedir=".">
     
	<property name="cheatsheets.to.dita" value="src${file.separator}cheatsheet-to-dita.xsl"/>
	<property name="output.dir" value="output"/>
	<property name="saxon.dir" value="src${file.separator}libs${file.separator}SaxonHE9-6-0-7J"/>
	<property name="saxon.jar" value="${saxon.dir}${file.separator}saxon9he.jar"/>
	<property name="dita-ot.dir" value="src${file.separator}libs${file.separator}DITA-OT1.8.5"/>		
	<property name="fop.dir" value="src${file.separator}libs${file.separator}fop-1.1"/>
	
	<target name="xslt2">
	   <!-- create the root Ditamap file an the four child task files  -->
   		<xslt in="test.xml" out="${output.dir}${file.separator}map.ditamap" style="${cheatsheets.to.dita}" force="true">
   			<classpath location="${saxon.jar}"/>
   		</xslt>
	</target>
	
	<target name="toPdf">
		<!-- run the Ditamap through DITA-OT to produce the PDF -->
		<ant antfile="${dita-ot.dir}${file.separator}build.xml">
		  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
		  <property name="output.dir" location="${output.dir}${file.separator}pdf"/>
		  <property name="transtype" value="debrief"/>
		</ant>
	</target>	
	
	<target name="toXHTML">
		<!-- run the Ditamap through DITA-OT to produce the XHTML -->
		<ant antfile="${dita-ot.dir}${file.separator}build.xml">
		  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
		  <property name="output.dir" location="${output.dir}${file.separator}xhtml"/>
		  <property name="transtype" value="xhtml"/>
		</ant>
	</target>
	
	<target name="toTocJS">
		<!-- run the Ditamap through DITA-OT to produce the TocJS -->
		<ant antfile="${dita-ot.dir}${file.separator}build.xml">
		  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
		  <property name="output.dir" location="${output.dir}${file.separator}tocjs"/>
		  <property name="transtype" value="tocjs"/>
		</ant>
	</target>	
	
	<target name="toHTML-Help">
		<!-- run the Ditamap through DITA-OT to produce the HTML Help -->
		<ant antfile="${dita-ot.dir}${file.separator}build.xml">
		  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
		  <property name="output.dir" location="${output.dir}${file.separator}htmlhelp"/>
		  <property name="transtype" value="htmlhelp"/>
		</ant>
	</target>
	
	<target name="toDocbook">
		<!-- run the Ditamap through DITA-OT to produce the Docbook -->
		<ant antfile="${dita-ot.dir}${file.separator}build.xml">
		  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
		  <property name="output.dir" location="${output.dir}${file.separator}docbook"/>
		  <property name="transtype" value="docbook"/>
		</ant>
	</target>
	
	<!--
	Word output is not currently building 
	<target name="toWord">
				<ant antfile="${dita-ot.dir}${file.separator}build.xml">
				  <property name="args.input" location="${output.dir}${file.separator}map.ditamap"/>
				  <property name="output.dir" location="${output.dir}${file.separator}wordrtf"/>
				  <property name="transtype" value="wordrtf"/>
				</ant>
			</target>
	-->
	
	
	
	<target name="TransformAll" depends="xslt2, toPdf, toXHTML, toTocJS, toHTML-Help, toDocbook"/>	
	
</project>